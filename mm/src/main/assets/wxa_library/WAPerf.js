var Protect=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,n){function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t);function i(){return"function"==typeof App&&"function"==typeof Page}function o(a,i){try{for(var e in i)!function(o){a["__"+o+"__"]=a[o],Object.defineProperty(a,o,{get:function(){return function(){var e;try{var t=a["__"+o+"__"],n=i[o].before,r=i[o].after;"function"==typeof n&&n.apply(this,arguments),e=t.apply(this,arguments),"function"==typeof r&&r.apply(this,arguments)}catch(e){console.error("Perf error: "+e.message)}return e}},set:function(e){a["__"+o+"__"]=e},enumerable:!0,configurable:!0})}(e)}catch(e){console.error("Perf error: "+e.message)}}function a(){}var u={},r={updateData:function(e,t){wx.updatePerfData({dataArray:[{key:e,value:t}]})},updateDataGroup:function(e){wx.updatePerfData({dataArray:e})},traceCompleteEvent:function(e,t,n,r,o){wx.traceEvent({events:[{category:e,name:t,start:n,end:r,phase:"X",args:f(o)}]})},traceBeginEvent:function(e,t,n){var r=o()+o()+o();function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}n={category:e,name:t,start:Date.now(),phase:"B",args:f(n)};return u[r]=n,wx.traceEvent({events:[n]}),r},traceEndEvent:function(e,t){e=u[e];null!=e?(e.args=null!=t?f(t):e.args,e.end=Date.now(),e.phase="E",wx.traceEvent({events:[e]}),delete u.id):console.error("[Perf] Call traceBeginEvent() before traceEndEvent().")}},f=function(e){var t="";try{t=JSON.stringify(e)}catch(e){}return t};!function(){function e(e){var t=r[e];if("function"!=typeof t)return{v:void 0};r[e]=function(){if("undefined"!=typeof wx&&"function"==typeof wx.updatePerfData&&"function"==typeof wx.traceEvent)return t.apply(this,arguments);console.error("[Perf] wx.traceEvent or wx.updatePerfData doesn't exist.")}}for(var t in r){var n=e(t);if("object"===y(n))return n.v}}();function c(e){for(var t in e)(function(n){var r=e[n];if(_.includes(n)||"function"!=typeof r)return;e[n]=function(){var e=Date.now(),t=r.apply(this,arguments);return v.traceCompleteEvent(this.__route__,"Page."+n,e,Date.now()),t}})(t)}var v=r,p=["pageframe","WAWebview"],l=null,d={speedReport:{after:function(e){var t,n,r,o=e.key,a=e.timeMark;if("firstRenderTime"===o||"reRenderTime"===o){if(!a.startTime||!a.endTime)return;e=a.endTime-a.startTime;v.updateData(o,e+" ms"),t=o.replace("Time",""),n=a.startTime,r=a.endTime,null==l?wx.getCurrentRoute({success:function(e){e=e.route;l=e.replace(/\.html$/,""),v.traceCompleteEvent(l,t,n,r)}}):v.traceCompleteEvent(l,t,n,r)}p.includes(o)&&v.traceCompleteEvent("Native",o,a.startTime,a.endTime)}}},s={subscribeHandler:{after:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.data,r=t.options,o=3<arguments.length?arguments[3]:void 0,a=Date.now(),t=r&&r.timestamp||0,r=o&&o.nativeTime||0;0!==t&&0!==r&&(o=JSON.stringify(n||{}).length,n=a-t,a=r-t,r=i()?"webview2AppService":"appService2Webview",t="","undefined"!=typeof wx&&(t=wx.version&&wx.version.version||""),"develop"===t&&v.updateDataGroup([{key:r+"TotalTime",value:n+" ms"},{key:r+"DataSize",value:"number"!=typeof(o=o)?"0 B":1024<=o?(o/1024).toFixed(2)+" KB":o+" B"},{key:r+"NativeTime",value:a+" ms"}]))}}},m=["onLaunch","onShow","onHide","onUnlaunch"],b=function(){var n=App;App=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e=t,m.forEach(function(n){var r=e[n]||a;e[n]=function(){var e=Date.now(),t=r.apply(this,arguments);return v.traceCompleteEvent("App","App."+n,e,Date.now()),t}}),n(t)}},_=["onLoad","onReady","onShow","onRouteEnd","onHide","onUnload"],g={setData:{before:function(e){var t=0;try{t=JSON.stringify(e||{}).length}catch(e){}this.__last_trace_id__=v.traceBeginEvent(this.__route__,"Page.setData",{dataSize:t})},after:function(){v.traceEndEvent(this.__last_trace_id__),delete this.__last_trace_id__}}},w=function(){var n=Page;Page=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e=t,_.forEach(function(n){var r=e[n]||a;e[n]=function(){"onLoad"!==n||this.__isHook__||(this.__isHook__=!0,o(this,g));var e=Date.now(),t=r.apply(this,arguments);return v.traceCompleteEvent(this.__route__,"Page."+n,e,Date.now()),t}}),c(t),n(t)}};function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(d,s){function e(e){var t,n,r,o,a,i,u,f,c,p,l="object"===y(e)?(i=d,u=s,f=e,c=Date.now(),p=f.complete,u(Object.assign(f,{complete:function(e){"function"==typeof p&&p.apply(p,arguments),v.traceCompleteEvent("API","wx."+i,c,Date.now(),{args:f,res:e})}}))):"function"==typeof e?(n=d,r=s,o=e,a=Date.now(),r(function(){"function"==typeof o&&o.apply(o,arguments),v.traceCompleteEvent("API","wx."+n,a,Date.now(),{})})):(t=d,u=s,l=arguments,r=Date.now(),l=u.apply(void 0,x(l)),v.traceCompleteEvent("API","wx."+t,r,Date.now(),{ret:l}),l);return l}Object.defineProperty(wx,d,{get:function(){return e},enumerable:!0,configurable:!0})}var E,S=["updatePerfData","traceEvent"],D=function(){for(var e in wx){var t;S.includes(e)||"function"==typeof(t=wx[e])&&P(e,t)}};try{if("object"===("undefined"==typeof Perf?"undefined":y(Perf)))for(var j in v)!function(e){Object.defineProperty(Perf,e,{get:function(){return v[e]},enumerable:!0,configurable:!0})}(j);"object"===("undefined"==typeof Reporter?"undefined":y(Reporter))&&o(Reporter,d),i()&&"object"===("undefined"==typeof wx?"undefined":y(wx))&&("object"===("undefined"==typeof wx?"undefined":y(wx))&&D(),"function"==typeof App&&b(),"function"==typeof Page&&w()),E=function(){o(WeixinJSBridge,s)},"undefined"!=typeof WeixinJSBridge?E():document.addEventListener("WeixinJSBridgeReady",E,!1)}catch(e){"object"===("undefined"==typeof Reporter?"undefined":y(Reporter))&&Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:"Perf"}),console.error("Perf error: "+e.message)}}]);